---
title: Python异常处理
categories:
  - 工作
tags:
  - Linux
  - Python
  - 编程语言
  - 云计算
date: 2023-10-12 10:30:24
---

异常，即程序运行过程所出现的异常中断和退出错误，如语法错误、调用错误、文件不存在、磁盘空间不足、网络拥堵、权限不足等等。大多数的异常事件都不会被程序处理，而是以错误信息的形式展现出来，最终中断程序的正常执行，甚至对文件造成损害。因此，为了增强程序的健壮性，防止程序的突然中止引发严重后果，编写程序时需要考虑可能发生的异常及其处理方案

Python内置了多种类型的异常，无需导入即可直接使用，由try/except语句进行捕获，工作机制为：先执行可能引发异常的try子句，若无异常则忽略掉except子句后执行else语句（若存在else语句）。若try子句的执行过程发生了异常，则忽略掉try子句的剩余部分后，执行与异常类型相符的except子句，完成异常处理；若try子句异常类型不在except所定义的捕获列表，则将异常逐层递交到上层的try，直到程序最上层，最后抛出异常信息

# 1.捕获异常

    >>> try:
    ...     print(1)
    ...     print("未发生异常，语句正常执行")
    ...     print(1/0)
    ...     print("上一条语句发生异常，在其之后的语句将不被执行")
    ... except:
    ...     print("程序错误，请检查!")
    ... 
    1
    未发生异常，语句正常执行
    程序错误，请检查!

- 注：该语句except部分没有指定具体的异常类型，try语句发生的所有异常都将被捕获，不能识别出具体的异常信息，不推荐

# 2.捕获通用异常

Python内置的通用异常Exception可以捕获任意异常，适用于无法预判到所有可能发生的异常及其类型的场景，以免异常引发的程序阻塞。但捕获所有发生的异常将会降低程序的效率，所以精确捕获异常还是非常必要的措施

    >>> try:
    ...     n = input('请输入数字:')
    ...     print(int(n))
    ... except Exception as e:
    ...     print(e)
    ... 
    请输入数字:test
    invalid literal for int() with base 10: 'test'

# 3.捕获特定类型异常

为了识别出异常的具体类型，以便于根据不同类型的异常做不同的异常处理，可在except关键字后面说明具体的异常类型，以捕获特定异常类型的异常对象，as关键字用于给异常对象命名

    >>> m = 10
    >>> n = input('请输入数字:')
    请输入数字:0
    >>> try:
    ...     print(m/int(n))
    ... except ZeroDivisionError as e:
    ...     print(e)
    ...     n = input('发生了零除错误，请重新输入变量n的值:')
    ...     print(m/int(n))
    ... 
    division by zero
    发生了零除错误，请重新输入变量n的值:1
    10.0

## 3.1 捕获多种异常类型



# 4.内置异常类

Python内置异常类是从由BaseException类派生，常见异常类如下

|  异常  |  描述  |
| :---: | :---: |
| IOError | 输入/输出异常 |
| ImportError | 路径或名称错误引发的模块或包导入异常 |
| IndentationError | 缩进错误 |
| IndexError | 索引下标错误 |